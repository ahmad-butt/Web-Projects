{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/home/ahmad/University/JavaScript/temporary/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./App.css';import{useState,useEffect}from'react';import{Input,InputLabel}from'@material-ui/core';import{FormControl}from'@material-ui/core';import Message from'./Components/Message';import db from'./firebase';import firebase from'firebase';import FlipMove from'react-flip-move';import SendIcon from'@material-ui/icons/Send';import{IconButton}from'@material-ui/core';function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState([{username:'',message:''}]),_useState4=_slicedToArray(_useState3,2),messages=_useState4[0],setMessages=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),username=_useState6[0],setUsername=_useState6[1];useEffect(function(){setUsername(prompt('Please Enter Your Name.'));},[]);useEffect(function(){db.collection('messages').orderBy('timestamp','desc').onSnapshot(function(snapshot){setMessages(snapshot.docs.map(function(doc){return{id:doc.id,message:doc.data()};}));});},[]);var handleChange=function handleChange(event){var inp=event.target.value;setInput(inp);};var sendMessage=function sendMessage(event){event.preventDefault();// To Add messages Locally\n// setMessages([...messages, {username:username, text:input}]);\n//To add messages from Database\ndb.collection('messages').add({message:input,username:username,timestamp:firebase.firestore.FieldValue.serverTimestamp()});setInput('');};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"app__header\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://seeklogo.com/images/F/facebook-messenger-logo-36376366E2-seeklogo.com.png?w=100&h=100\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Messenger Clone \\uD83D\\uDD25\\uD83D\\uDD25\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Welcome \",username]})]}),/*#__PURE__*/_jsx(\"form\",{className:\"app__form\",children:/*#__PURE__*/_jsxs(FormControl,{className:\"app__formControl\",children:[/*#__PURE__*/_jsx(InputLabel,{className:\"app__inputLabel\",children:\"Type Message\"}),/*#__PURE__*/_jsx(Input,{value:input,onChange:handleChange}),/*#__PURE__*/_jsx(IconButton,{className:\"app__button\",disabled:!input,type:\"submit\",onClick:sendMessage,color:\"primary\",variant:\"contained\",children:/*#__PURE__*/_jsx(SendIcon,{})})]})}),/*#__PURE__*/_jsx(FlipMove,{children:messages.map(function(_ref){var id=_ref.id,message=_ref.message;return/*#__PURE__*/_jsx(Message,{username:username,message:message},id);})})]});}export default App;","map":{"version":3,"sources":["/home/ahmad/University/JavaScript/temporary/src/App.js"],"names":["useState","useEffect","Input","InputLabel","FormControl","Message","db","firebase","FlipMove","SendIcon","IconButton","App","input","setInput","username","message","messages","setMessages","setUsername","prompt","collection","orderBy","onSnapshot","snapshot","docs","map","doc","id","data","handleChange","event","inp","target","value","sendMessage","preventDefault","add","timestamp","firestore","FieldValue","serverTimestamp"],"mappings":"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","sourcesContent":["import './App.css';\nimport { useState, useEffect } from 'react';\nimport { Input, InputLabel } from '@material-ui/core';\nimport { FormControl } from '@material-ui/core';\nimport Message from './Components/Message';\nimport db  from './firebase';\nimport firebase from 'firebase'\nimport FlipMove from 'react-flip-move';\nimport SendIcon from '@material-ui/icons/Send';\nimport { IconButton } from '@material-ui/core';\nfunction App() {\n  const [input, setInput] = useState('');\n  const [messages, setMessages] = useState([{username:'', message:''}]);\n  const [username, setUsername] = useState('');\n\n  useEffect(() => {\n    setUsername(prompt('Please Enter Your Name.'));\n  }, [])\n\n  useEffect(() => {\n    db.collection('messages').orderBy('timestamp','desc').onSnapshot(snapshot=>{\n      setMessages(snapshot.docs.map(doc=>({id: doc.id , message: doc.data()})))\n    })\n  },[])\n\n  const handleChange = (event) => {\n    const inp = event.target.value;\n    setInput(inp);\n  }\n  const sendMessage = (event) => {\n    event.preventDefault();\n    // To Add messages Locally\n    // setMessages([...messages, {username:username, text:input}]);\n\n    //To add messages from Database\n    db.collection('messages').add({\n      message:input,\n      username:username,\n      timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n    })\n    setInput('');\n  }\n\n  return (\n    <div className=\"App\">\n      <div className='app__header'>\n        <img src='https://seeklogo.com/images/F/facebook-messenger-logo-36376366E2-seeklogo.com.png?w=100&h=100'/>\n        <h1>Messenger Clone ğŸ”¥ğŸ”¥</h1>\n        <h2>Welcome {username}</h2>\n      </div>\n      <form className='app__form'>\n        <FormControl className='app__formControl'>\n          <InputLabel className='app__inputLabel'>Type Message</InputLabel>\n          <Input value={input} onChange={handleChange} />\n          <IconButton className='app__button' disabled={!input} type='submit' onClick={sendMessage} color='primary' variant='contained'>\n            <SendIcon />\n          </IconButton>\n        {/* <Button className='app__button' disabled={!input} type='submit' onClick={sendMessage} color='primary' variant='contained'>Send</Button> */}\n        </FormControl>\n      </form>\n      <FlipMove>\n      {\n        messages.map(({id, message}) => (<Message key={id} username={username} message={message} />))\n      }\n      </FlipMove>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}